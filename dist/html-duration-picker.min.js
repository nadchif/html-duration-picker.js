!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.HtmlDurationPicker=t():e.HtmlDurationPicker=t()}("undefined"!=typeof self?self:this,(function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){"use strict";r.r(t),
/**
 * @preserve
 * html-duration-picker.js
 *
 * @description Turn an html input box to a duration picker, without jQuery
 * @version 1.0.8
 * @author Chif <nadchif@gmail.com>
 * @license GPL v3
 *
 */t.default=function(){const e=["Backspace","ArrowDown","ArrowUp","Tab"],t=e=>{const t=e.target.selectionStart,r=e.target.value.indexOf(":"),n=e.target.value.lastIndexOf(":");if(!(r<0||n<0)){if(t<r)return e.target.setAttribute("data-adjustment-mode",3600),void e.target.setSelectionRange(0,r);if(t>r&&t<n)return e.target.setAttribute("data-adjustment-mode",60),void e.target.setSelectionRange(r+1,n);if(t>n)return e.target.setAttribute("data-adjustment-mode",1),void e.target.setSelectionRange(n+1,n+3);e.target.setAttribute("data-adjustment-mode","ss"),e.target.setSelectionRange(n+1,n+3)}},r=(e,t)=>{let r=Math.floor(t/3600);t%=3600;let n=Math.floor(t/60),a=t%60;n=String(n).padStart(2,"0"),r=String(r).padStart(2,"0"),a=String(a).padStart(2,"0"),e.value=r+":"+n+":"+a},n=(e,t)=>{const r=e.value.indexOf(":"),n=e.value.lastIndexOf(":");return e.focus(),e.select(),t>=3600?(e.selectionStart=0,void(e.selectionEnd=r)):t>=60?(e.selectionStart=r+1,void(e.selectionEnd=n)):(e.selectionStart=n+1,void(e.selectionEnd=n+3))},a=e=>{let t=1;return Number(e.getAttribute("data-adjustment-mode"))>0&&(t=Number(e.getAttribute("data-adjustment-mode"))),t},i=e=>{const t=e.value.split(":"),i=a(e);let o=0;3===t.length&&(o=Number(t[2])+Number(60*t[1])+Number(60*t[0]*60)),r(e,o+=i),n(e,i)},o=e=>{const t=e.value.split(":"),i=a(e);let o=0;3===t.length&&(o=Number(t[2])+Number(60*t[1])+Number(60*t[0]*60)),(o-=i)<0&&(o=0),r(e,o),n(e,i)},d=(e,t)=>{const r=a(e);switch(t){case"left":n(e,60*r);break;case"right":n(e,r/60)}},l=e=>{const t=e.target.value.split(":");3===t.length?(isNaN(t[0])&&(t[0]="00"),(isNaN(t[1])||t[1]<0)&&(t[1]="00"),(t[1]>59||t[1].length>2)&&(t[1]="59"),(isNaN(t[2])||t[2]<0)&&(t[2]="00"),(t[2]>59||t[2].length>2)&&(t[2]="59"),e.target.value=t.join(":")):e.target.value="00:00:00"},s=t=>{if("ArrowDown"===t.key||"ArrowUp"===t.key||"ArrowLeft"===t.key||"ArrowRight"===t.key){switch(t.key){case"ArrowDown":o(t.target);break;case"ArrowUp":i(t.target);break;case"ArrowLeft":d(t.target,"left");break;case"ArrowRight":d(t.target,"right")}t.preventDefault()}if(isNaN(t.key)&&!e.includes(t.key))return t.preventDefault(),!1},u=()=>(document.querySelectorAll("input[html-duration-picker]").forEach(e=>{if("true"==e.getAttribute("data-upgraded"))return;const r=e.currentStyle||window.getComputedStyle(e),n=r.marginRight,a=r.marginLeft,d=r.width;e.setAttribute("data-upgraded",!0),e.value="00:00:00",e.style.textAlign="right",e.style.paddingRight="20px",e.style.boxSizing="border-box",e.style.width="100%",e.style.margin=0,e.style.cursor="text",e.setAttribute("aria-label","Duration Picker"),e.addEventListener("keydown",s),e.addEventListener("select",t),e.addEventListener("mouseup",t),e.addEventListener("change",l),e.addEventListener("blur",l),e.addEventListener("keyup",l),e.addEventListener("drop",e=>e.preventDefault());const u=document.createElement("div"),p=document.createElement("div");u.setAttribute("style","width:0;height:0;\n    border-style:solid;border-width:0 4px 5px 4px; border-color:transparent transparent #000 transparent"),p.setAttribute("style","width:0;height:0;\n    border-style:solid;border-width:5px 4px 0 4px; border-color:#000 transparent transparent transparent");const c=document.createElement("button"),f=document.createElement("button"),g=[c,f];let b;c.setAttribute("aria-label","Increase duration"),f.setAttribute("aria-label","Decrease duration"),c.setAttribute("style",`text-align:center; width: 16px;padding: 0px 4px; border:none; cursor:default;\n      height:${e.offsetHeight/2-1}px !important; position:absolute; top: 1px;`),f.setAttribute("style",`text-align:center; width: 16px;padding: 0px 4px; border:none cursor:default; \n      height:${e.offsetHeight/2-1}px !important; position:absolute; top: ${e.offsetHeight/2-1}px;`),f.appendChild(p),c.appendChild(u),g.forEach(t=>{t.addEventListener("mousedown",r=>{r.preventDefault(),t==c?(i(e),b=setInterval(i,200,e)):(o(e),b=setInterval(o,200,e))}),t.addEventListener("mouseup",()=>{clearInterval(b)}),t.addEventListener("mouseleave",()=>{clearInterval(b)})});const m=document.createElement("div");m.setAttribute("style",`display:inline-block; position: absolute;top:1px;left: ${parseFloat(d)-20}px;\n    height:${e.offsetHeight}px; padding:2px 0`),m.appendChild(c),m.appendChild(f);const h=document.createElement("div");h.style.padding="0px",h.style.display="inline-block",h.style.background="transparent",h.style.width=d,h.style.position="relative",h.style.marginLeft=a,h.style.marginRight=n,e.parentNode.insertBefore(h,e),h.appendChild(e),h.appendChild(m)}),!0);return window.addEventListener("DOMContentLoaded",()=>{u()}),{init:u,refresh:u}}()}]).default}));