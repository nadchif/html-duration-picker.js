!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.HtmlDurationPicker=e():t.HtmlDurationPicker=e()}(this,(function(){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var a=e[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(n,a,function(e){return t[e]}.bind(null,a));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=0)}([function(t,e,r){"use strict";r.r(e),
/**
 * @preserve
 * html-duration-picker.js
 *
 * @description Turn an html input box to a duration picker, without jQuery
 * @version 2.0.0
 * @author Chif <nadchif@gmail.com>
 * @license GPL-3.0
 *
 */e.default=function(){const t=t=>{const e=t.target.selectionStart,r=t.target.value.indexOf(":"),n=t.target.value.lastIndexOf(":");if(!(r<0||n<0)){if(e<r)return t.target.setAttribute("data-adjustment-mode",3600),void t.target.setSelectionRange(0,r);if(e>r&&e<n)return t.target.setAttribute("data-adjustment-mode",60),void t.target.setSelectionRange(r+1,n);if(e>n)return t.target.setAttribute("data-adjustment-mode",1),void t.target.setSelectionRange(n+1,n+3);t.target.setAttribute("data-adjustment-mode","ss"),t.target.setSelectionRange(n+1,n+3)}},e=(t,e)=>{const r=t.value.indexOf(":"),n=t.value.lastIndexOf(":");return t.focus(),t.select(),e>=3600?(t.selectionStart=0,void(t.selectionEnd=r)):e>=60?(t.selectionStart=r+1,void(t.selectionEnd=n)):(t.selectionStart=n+1,void(t.selectionEnd=n+3))},r=t=>{let e=1;return Number(t.getAttribute("data-adjustment-mode"))>0&&(e=Number(t.getAttribute("data-adjustment-mode"))),e},n=(t,n)=>{const a=t.value.split(":"),o=r(t);let i=0;switch(3===a.length&&(i=Number(a[2])+Number(60*a[1])+Number(60*a[0]*60)),n){case"up":i+=o;break;case"down":i-=o,i<0&&(i=0)}((t,e)=>{const r=Math.floor(e/3600);e%=3600;const n=Math.floor(e/60),a=e%60,o=String(r).padStart(2,"0"),i=String(n).padStart(2,"0"),d=String(a).padStart(2,"0");t.value=`${o}:${i}:${d}`})(t,i),e(t,o)},a=(t,n)=>{const a=r(t);switch(n){case"left":e(t,60*a);break;case"right":e(t,a/60)}},o=t=>{return RegExp("^[0-9][0-9]:[0-5][0-9]:[0-5][0-9]$").test(t.dataset.duration)},i=t=>{const e=t.target.value.split(":");t.target.dataset.duration&&o(t.target)&&3!==e.length?t.target.value=t.target.dataset.duration:3===e.length?(isNaN(e[0])&&(e[0]="00"),(isNaN(e[1])||e[1]<0)&&(e[1]="00"),(e[1]>59||e[1].length>2)&&(e[1]="59"),(isNaN(e[2])||e[2]<0)&&(e[2]="00"),(e[2]>59||e[2].length>2)&&(e[2]="59"),t.target.value=e.join(":")):t.target.value="00:00:00"},d=t=>{if("ArrowDown"===t.key||"ArrowUp"===t.key||"ArrowLeft"===t.key||"ArrowRight"===t.key){switch(t.key){case"ArrowDown":n(t.target,"down");break;case"ArrowUp":n(t.target,"up");break;case"ArrowLeft":a(t.target,"left");break;case"ArrowRight":a(t.target,"right")}t.preventDefault()}if(isNaN(t.key)&&!["Backspace","ArrowDown","ArrowUp","Tab"].includes(t.key))return t.preventDefault(),!1},s=()=>{return document.querySelectorAll("input.html-duration-picker").forEach(e=>{if("true"==e.getAttribute("data-upgraded"))return;const r=e.currentStyle||window.getComputedStyle(e),a=r.marginRight,s=r.marginLeft,u=r.width;e.setAttribute("data-upgraded",!0),e.value=e.dataset.duration&&o(e)?e.dataset.duration:"00:00:00",e.style.textAlign="right",e.style.paddingRight="20px",e.style.boxSizing="border-box",e.style.width="100%",e.style.margin=0,e.style.cursor="text",e.setAttribute("aria-label","Duration Picker"),e.addEventListener("keydown",d),e.addEventListener("select",t),e.addEventListener("mouseup",t),e.addEventListener("change",i),e.addEventListener("blur",i),e.addEventListener("keyup",i),e.addEventListener("drop",t=>t.preventDefault());const l=document.createElement("button"),p=document.createElement("button"),c=[l,p];l.setAttribute("aria-label","Increase duration"),l.setAttribute("style",`text-align:center; width: 16px;padding: 0px 4px; border:none; cursor:default;\n        height:${e.offsetHeight/2-1}px !important; position:absolute; top: 1px;`),p.setAttribute("aria-label","Decrease duration"),p.setAttribute("style",`text-align:center; width: 16px;padding: 0px 4px; border:none; cursor:default; \n        height:${e.offsetHeight/2-1}px !important; position:absolute; top: ${e.offsetHeight/2-1}px;`);const g=document.createElement("div"),f=document.createElement("div");g.setAttribute("style","width:0;height:0;\n        border-style:solid;border-width:0 4px 5px 4px; border-color:transparent transparent #000 transparent"),f.setAttribute("style","width:0;height:0;\n        border-style:solid;border-width:5px 4px 0 4px; border-color:#000 transparent transparent transparent"),p.appendChild(f),l.appendChild(g),c.forEach(t=>{let r;t.addEventListener("mousedown",a=>{a.preventDefault(),t==l?(n(e,"up"),r=setInterval(n,200,e,"up")):(n(e,"down"),r=setInterval(n,200,e,"down"))}),t.addEventListener("mouseup",()=>clearInterval(r)),t.addEventListener("mouseleave",()=>clearInterval(r))});const b=document.createElement("div");b.setAttribute("style",`display:inline-block; position: absolute;top:1px;left: ${parseFloat(u)-20}px;\n        height:${e.offsetHeight}px; padding:2px 0`),b.appendChild(l),b.appendChild(p);const h=document.createElement("div");h.setAttribute("style",`display: inline-block; position: relative; background: transparent; \n        padding: 0px; width: ${u}; margin-left: ${s}; margin-right: ${a};`),e.parentNode.insertBefore(h,e),h.appendChild(e),h.appendChild(b)}),!0};return window.addEventListener("DOMContentLoaded",()=>s()),{init:s,refresh:s}}()}]).default}));